(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[364],{20:function(e,t,n){"use strict";var r=n(6314);t.Z=void 0;var i=r(n(984)),o=n(7437),s=(0,i.default)((0,o.jsx)("path",{d:"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"}),"ThumbDown");t.Z=s},567:function(e,t,n){"use strict";var r=n(6314);t.Z=void 0;var i=r(n(984)),o=n(7437),s=(0,i.default)((0,o.jsx)("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");t.Z=s},8729:function(e,t,n){Promise.resolve().then(n.bind(n,2861))},2861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7437),i=n(6507),o=n(8938),s=n(3457),c=n(3226),l=n(2653),a=n(5551),d=n(2265),u=n(4033),h=n(9231),x=n(1199),f=n(6901),p=n(20),j=n(567);function m(){let e=(0,u.useSearchParams)();e.get("title");let{products:t,getProduct:n,users:m,user:v}=(0,d.useContext)(h.StoreVitalContext),[g,Z]=(0,d.useState)(0),[b,S]=(0,d.useState)([]);return(0,d.useEffect)(()=>{let e=async()=>{fetch("".concat("https://scan-master-server.onrender.com","/reminds/").concat(null==v?void 0:v.id),{method:"GET",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}}).then(e=>e.json()).then(e=>{console.log(e),S(e)})};v&&e()},[v]),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(f.Z,{selected:"/notification"}),(0,r.jsx)(o.Z,{maxWidth:"xs",children:(0,r.jsx)(s.Z,{mt:0,children:b.map(e=>{var t,o,d;return(0,r.jsxs)(s.Z,{sx:{borderBottom:1,borderColor:x.tv},p:3,gap:2,children:[(0,r.jsxs)(s.Z,{direction:"row",gap:1.5,sx:{alignItems:"center"},width:"100%",children:[(0,r.jsxs)(i.Z,{display:"flex",width:"100%",alignSelf:"stretch",position:"relative",justifyContent:"center",alignItems:"center",children:[(0,r.jsxs)(c.Z,{sx:{fontSize:12,fontWeight:700,textAlign:"center"},children:[null===(t=n(e.product_id))||void 0===t?void 0:t.name,"は",(0,r.jsx)("br",{}),"気に入っていただけましたか？"]}),(0,r.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",sx:{position:"absolute",bottom:0,width:"100%"},children:[(0,r.jsxs)(c.Z,{sx:{fontSize:14,color:x.iy},children:[new Date(e.remind_at).toLocaleDateString(),"に通知"]}),(0,r.jsxs)(c.Z,{sx:{fontSize:14},children:["￥",null===(o=n(e.product_id))||void 0===o?void 0:o.price]})]})]}),(0,r.jsx)("img",{width:128,style:{aspectRatio:1,objectFit:"cover",borderRadius:4},src:null===(d=n(e.product_id))||void 0===d?void 0:d.image_url})]}),(0,r.jsxs)(s.Z,{direction:"row",justifyContent:"space-between",alignContent:"center",px:3,children:[(0,r.jsx)(l.Z,{size:"small",children:(0,r.jsx)(j.Z,{fontSize:"inherit"})}),(0,r.jsx)(l.Z,{size:"small",children:(0,r.jsx)(p.Z,{fontSize:"inherit"})}),(0,r.jsx)(a.Z,{variant:"contained",sx:{color:"white",fontWeight:700,fontSize:16,p:0,width:80},children:"再購入"})]})]},"".concat(e.user_id,",").concat(e.product_id))})})})]})}},9231:function(e,t,n){"use strict";n.r(t),n.d(t,{StoreVitalContext:function(){return o},StoreVitalProvider:function(){return s}});var r=n(7437),i=n(2265);let o=(0,i.createContext)({}),s=e=>{let{children:t}=e,[n,s]=(0,i.useState)([]),[c,l]=(0,i.useState)([]),[a,d]=(0,i.useState)(),u=(0,i.useRef)(!0),[h,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=async()=>{let e={method:"GET",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}};fetch("".concat("https://scan-master-server.onrender.com","/products"),e).then(e=>e.json()).then(e=>{l(e)}),fetch("".concat("https://scan-master-server.onrender.com","/users"),e).then(e=>e.json()).then(e=>{s(e);let t=localStorage.getItem("user_id");if(t){let n=e.find(e=>e.id===parseInt(t));n&&f(n)}else f(e.find(e=>9===e.id))})};u.current&&(u.current=!1,e())},[]);let f=e=>{d(e),e&&localStorage.setItem("user_id",e.id.toString())};return(0,r.jsx)(o.Provider,{value:{products:c,setProducts:l,getProduct:e=>c.find(t=>t.id===e),users:n,setUsers:s,user:a,setUser:f,getUser:e=>n.find(t=>t.id===e),open:h,setOpen:x},children:c.length>0?t:(0,r.jsx)("p",{children:"Loading... "})})}},6901:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(7437),i=n(1199),o=n(9599),s=n(6500),c=n(4989),l=n(3457),a=n(8938),d=n(2653),u=n(3226),h=n(6507),x=n(5551),f=n(4982),p=n(8486),j=n(7739),m=n(879),v=n(1396),g=n.n(v),Z=n(2265),b=n(9231);function S(e){let{selected:t}=e,{user:n,setUser:v,users:S,open:C,setOpen:z}=(0,Z.useContext)(b.StoreVitalContext),[y,_]=(0,Z.useState)("select"),[k,F]=(0,Z.useState)(""),E=()=>{let e={method:"POST",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({name:k})};fetch("".concat("https://scan-master-server.onrender.com","/users"),e).then(e=>e.json()).then(e=>{v(e),z(!1),_("select")})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,{position:"fixed",color:"transparent",sx:{borderBottom:1,borderColor:i.tv,boxSizing:"border-box",background:i.zQ},elevation:0,children:[(0,r.jsx)(c.Z,{sx:{p:0,justifyContent:"center"},children:(0,r.jsxs)(l.Z,{children:[(0,r.jsxs)(a.Z,{sx:{p:2,display:"flex",justifyContent:"center",alignContent:"center",position:"relative"},maxWidth:"xs",children:[(0,r.jsxs)(d.Z,{sx:{position:"absolute",left:16,top:6,flexDirection:"column"},size:"large",onClick:()=>z(!0),children:[(0,r.jsx)(o.Z,{fontSize:"inherit"}),(0,r.jsx)(u.Z,{sx:{fontSize:12},children:null==n?void 0:n.name})]}),(0,r.jsx)(u.Z,{sx:{fontSize:24,color:i.z,fontWeight:700,fontFamily:"Cinzel"},children:"S COFFEE"})]}),(0,r.jsx)(h.Z,{overflow:"scroll",width:"100vw",sx:{width:"100vw"},children:(0,r.jsx)(l.Z,{direction:"row",width:"max-content",mx:"auto",children:[{name:"ポイント",url:"/point_card"},{name:"購入履歴",url:"/history"},{name:"おすすめ",url:"/recommend"},{name:"お知らせ",url:"/notification"}].map(e=>(0,r.jsx)(x.Z,{sx:{color:t==e.url?"black":i.X_,fontWeight:700,fontSize:16,px:3,py:.5,borderRadius:0,borderBottom:t==e.url?2:0,borderColor:i.z},component:g(),href:e.url,children:e.name},e.name))})})]})}),(0,r.jsx)(f.Z,{open:C,onClose:()=>{z(!1),_("select")},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:"select"===y?(0,r.jsxs)(l.Z,{sx:w,gap:2,children:[(0,r.jsx)(u.Z,{sx:{fontSize:24,fontWeight:700},children:"ユーザー選択"}),(0,r.jsx)(p.Z,{id:"combo-box-demo",value:null==n?void 0:n.id,onChange:e=>{v(S.find(t=>t.id==e.target.value))},children:S.map(e=>(0,r.jsx)(j.Z,{value:e.id,children:e.name},e.id))}),(0,r.jsxs)(l.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(x.Z,{onClick:()=>_("create"),children:"新規作成"}),(0,r.jsx)(x.Z,{variant:"contained",sx:{color:"white"},onClick:()=>z(!1),children:"閉じる"})]})]}):(0,r.jsxs)(l.Z,{sx:w,gap:2,children:[(0,r.jsx)(u.Z,{sx:{fontSize:24,fontWeight:700},children:"ユーザー作成"}),(0,r.jsx)(m.Z,{label:"名前を入力",value:k,onChange:e=>F(e.target.value)}),(0,r.jsx)(x.Z,{variant:"contained",sx:{color:"white",alignSelf:"flex-end"},onClick:()=>E(),children:"ユーザー作成"})]})})]}),(0,r.jsx)(c.Z,{style:{height:107}})]})}let w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4}},1199:function(e,t,n){"use strict";n.d(t,{Cz:function(){return o},X_:function(){return s},iy:function(){return a},lr:function(){return c},tv:function(){return r},z:function(){return l},zQ:function(){return i}});let r="#E0E0E0",i="#FFFFFF",o="#F2F2F2",s="#9e9e9e",c="#2962FF",l="#72391D",a="#616161"}},function(e){e.O(0,[773,551,93,651,561,971,596,744],function(){return e(e.s=8729)}),_N_E=e.O()}]);